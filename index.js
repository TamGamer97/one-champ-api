const express = require('express')


const app = express()

// https://onechampapi-hw950o0p.b4a.run/scrape-data
// https://dashboard.back4app.com/apps
// https://github.com/TamGamer97/one-champ-api/tree/back4app - back4app branch

const { scrapeTable, generateUniqueUserId, scrapePremierLeagueFixtures } = require('./functions.js');


app.get('/', (req, res) => {
    
    res.send('start endpoint')

})

app.get('/Premier-League-Table', async(req, res) => {

  res.send(await scrapeTable())

})

app.get('/generate-user-id', async(req, res) => { // figure out how to pass in email to request
  res.send(await generateUniqueUserId())
})

app.get('/Premier-League-Fixtures', async(req, res) => {

  res.send(await scrapePremierLeagueFixtures())

})

  
    
// Example usage in an Express.js route handler
app.get('/live-matches', async (req, res) => {

  async function scrapeLivescorePremierLeagueMatches() {
    try {
      console.log('Fetching data from Livescore...');
      const { data: html } = await axios.get('https://www.livescore.com/en/football/england/premier-league/', {
        headers: {
          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'
        }
      });
  
      console.log('Parsing HTML...');
      const dom = new JSDOM(html);
      const document = dom.window.document;

      console.log(document.querySelectorAll('[data-test-id=virtuoso-item-list]').length)
      return
      console.log('Extracting match data...');
      const matchElements = Array.from(document.querySelectorAll('[data-test-id="virtuoso-item-list"]'));
      
      const matches = matchElements.map(element => {
        const homeTeam = element.querySelector('[data-test-id="team-name-home"]')?.textContent.trim();
        const awayTeam = element.querySelector('[data-test-id="team-name-away"]')?.textContent.trim();
        const homeScore = element.querySelector('[data-test-id="home-score"]')?.textContent.trim();
        const awayScore = element.querySelector('[data-test-id="away-score"]')?.textContent.trim();
        const status = element.querySelector('[data-test-id="match-status"]')?.textContent.trim();
  
        return {
          HomeTeam: homeTeam,
          AwayTeam: awayTeam,
          Score: `${homeScore || ''} - ${awayScore || ''}`.trim(),
          Status: status
        };
      });
  
      console.log(`Processed ${matches.length} matches.`);
  
      if (matches.length === 0) {
        console.log('No matches found. This could be because:');
        console.log('1. There are no Premier League matches listed at the moment.');
        console.log('2. The website structure has changed.');
        console.log('3. The content is loaded dynamically and not present in the initial HTML.');
        console.log('Dumping a portion of the HTML for debugging:');
        console.log(html.slice(0, 1000)); // Print the first 1000 characters of HTML
      }
  
      return matches;
    } catch (error) {
      console.error('Error scraping matches:', error);
      if (error.response) {
        console.error('Response status:', error.response.status);
        console.error('Response headers:', error.response.headers);
      }
      return null;
    }
  }


  const liveMatches = await scrapeLivescorePremierLeagueMatches();
  res.send(liveMatches);
});

app.get('/Team-Info', async(req, res) => {
  var teamsInfo = [{"activeCompetitions": [[Object], [Object]], "address": "75 Drayton Park London N5 1BU", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/57.png", "email": "info@arsenal.co.uk", "founded": 1886, "id": 57, "lastUpdated": "2022-02-10T19:48:56Z", "name": "Arsenal FC", "phone": "+44 (020) 76195003", "shortName": "Arsenal", "tla": "ARS", "venue": "Emirates Stadium", "website": "http://www.arsenal.com"}, {"activeCompetitions": [[Object], [Object]], "address": "Villa Park Birmingham B6 6HE", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Claret / Sky Blue", "crestUrl": "https://crests.football-data.org/58.png", "email": null, "founded": 1872, "id": 58, "lastUpdated": "2022-04-03T16:22:14Z", "name": "Aston Villa FC", "phone": "+44 (0121) 3272299", "shortName": "Aston Villa", "tla": "AVL", "venue": "Villa Park", "website": "http://www.avfc.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Ewood Park Blackburn BB2 4JF", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/59.png", "email": null, "founded": 1874, "id": 59, "lastUpdated": "2022-02-19T08:50:27Z", "name": "Blackburn Rovers FC", "phone": "+44 (0871) 7021875", "shortName": "Blackburn", "tla": "BLA", "venue": "Ewood Park", "website": "http://www.rovers.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Burnden Way Bolton BL6 6JW", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "White / Navy Blue", "crestUrl": "https://crests.football-data.org/60.png", "email": "reception@bwfc.co.uk", "founded": 1874, "id": 60, "lastUpdated": "2022-05-11T10:55:59Z", "name": "Bolton Wanderers FC", "phone": "+44 (0844) 8712932", "shortName": "Bolton", "tla": "BOL", "venue": "University of Bolton Stadium", "website": "http://www.bwfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Fulham Road London SW6 1HS", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Royal Blue / White", "crestUrl": "https://crests.football-data.org/61.png", "email": null, "founded": 1905, "id": 61, "lastUpdated": "2022-02-10T19:24:40Z", "name": "Chelsea FC", "phone": "+44 (0871) 9841955", "shortName": "Chelsea", "tla": "CHE", "venue": "Stamford Bridge", "website": "http://www.chelseafc.com"}, {"activeCompetitions": [[Object], [Object]], "address": "Goodison Park Liverpool L4 4EL", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/62.png", "email": "everton@evertonfc.com", "founded": 1878, "id": 62, "lastUpdated": "2022-02-10T19:47:42Z", "name": "Everton FC", "phone": "+44 (0871) 6631878", "shortName": "Everton", "tla": "EVE", "venue": "Goodison Park", "website": "http://www.evertonfc.com"}, {"activeCompetitions": [[Object], [Object]], "address": "Craven Cottage, Stevenage Road London SW6 6HH", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "White / Black", "crestUrl": "https://crests.football-data.org/63.png", "email": "enquiries@fulhamfc.com", "founded": 1879, "id": 63, "lastUpdated": "2024-07-29T17:16:11Z", "name": "Fulham FC", "phone": "+44 (0870) 4421222", "shortName": "Fulham", "tla": "FUL", "venue": "Craven Cottage", "website": "http://www.fulhamfc.com"}, {"activeCompetitions": [[Object], [Object]], "address": "Anfield Road Liverpool L4 0TH", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/64.png", "email": "customercontact@liverpoolfc.tv", "founded": 1892, "id": 64, "lastUpdated": "2022-02-10T19:30:22Z", "name": "Liverpool FC", "phone": "+44 (0844) 4993000", "shortName": "Liverpool", "tla": "LIV", "venue": "Anfield", "website": "http://www.liverpoolfc.tv"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "SportCity Manchester M11 3FF", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Sky Blue / White", "crestUrl": "https://crests.football-data.org/65.png", "email": "mancity@mancity.com", "founded": 1880, "id": 65, "lastUpdated": "2022-02-10T19:48:37Z", "name": "Manchester City FC", "phone": "+44 (0870) 0621894", "shortName": "Man City", "tla": "MCI", "venue": "Etihad Stadium", "website": "https://www.mancity.com"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Sir Matt Busby Way Manchester M16 0RA", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/66.png", "email": "enquiries@manutd.co.uk", "founded": 1878, "id": 66, "lastUpdated": "2022-02-10T19:27:46Z", "name": "Manchester United FC", "phone": "+44 (0161) 8688000", "shortName": "Man United", "tla": "MUN", "venue": "Old Trafford", "website": "http://www.manutd.com"}, {"activeCompetitions": [[Object], [Object]], "address": "Sports Direct Arena Newcastle upon Tyne NE1 4ST", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Black / White", "crestUrl": "https://crests.football-data.org/67.png", "email": "admin@nufc.co.uk", "founded": 1881, "id": 67, "lastUpdated": "2022-09-28T18:51:07Z", "name": "Newcastle United FC", "phone": null, "shortName": "Newcastle", "tla": "NEW", "venue": "St. James' Park", "website": "http://www.nufc.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Carrow Road Norwich NR1 1JE", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Yellow / Green", "crestUrl": "https://crests.football-data.org/68.png", "email": "reception@ncfc-canaries.co.uk", "founded": 1902, "id": 68, "lastUpdated": "2022-03-23T08:28:03Z", "name": "Norwich City FC", "phone": null, "shortName": "Norwich", "tla": "NOR", "venue": "Carrow Road", "website": "http://www.canaries.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "South Africa Road, Shepherds Bush London W12 7PA", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/69.png", "email": "qpr@qpr.co.uk", "founded": 1882, "id": 69, "lastUpdated": "2022-02-22T14:17:12Z", "name": "Queens Park Rangers FC", "phone": null, "shortName": "QPR", "tla": "QPR", "venue": "Kiyan Prince Foundation Stadium", "website": "http://www.qpr.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Stanley Matthews Way Stoke-on-Trent ST4 4EG", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/70.png", "email": "info@stokecityfc.com", "founded": 1863, "id": 70, "lastUpdated": "2022-02-25T16:56:58Z", "name": "Stoke City FC", "phone": "+44 (0871) 6632008", "shortName": "Stoke", "tla": "STK", "venue": "Bet365 Stadium", "website": "http://www.stokecityfc.com"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "The Sunderland Stadium of Light Sunderland SR5 1SU", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/71.png", "email": "enquiries@safc.com", "founded": 1879, "id": 71, "lastUpdated": "2022-02-19T09:12:07Z", "name": "Sunderland AFC", "phone": "+44 (0871) 9111200", "shortName": "Sunderland", "tla": "SUN", "venue": "Stadium of Light", "website": "http://www.safc.com"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Bill Nicholson Way, 748 High Road London N17 0AP", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Navy Blue / White", "crestUrl": "https://crests.football-data.org/73.png", "email": "customer.care@tottenhamhotspur.com", "founded": 1882, "id": 73, "lastUpdated": "2024-05-11T21:39:03Z", "name": "Tottenham Hotspur FC", "phone": "+44 (0844) 4995000", "shortName": "Tottenham", "tla": "TOT", "venue": "Tottenham Hotspur Stadium", "website": "http://www.tottenhamhotspur.com"}, {"activeCompetitions": [[Object], [Object]], "address": "The Hawthorns West Bromwich B71 4LF", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "White / Navy Blue", "crestUrl": "https://crests.football-data.org/74.png", "email": "enquiries@wbafc.co.uk", "founded": 1879, "id": 74, "lastUpdated": "2022-02-19T09:11:36Z", "name": "West Bromwich Albion FC", "phone": null, "shortName": "West Brom", "tla": "WBA", "venue": "The Hawthorns", "website": "http://www.wba.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Loire Drive Wigan WN5 0UZ", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/75.png", "email": "feedback@wiganathletic.com", "founded": 1932, "id": 75, "lastUpdated": "2022-07-26T17:54:09Z", "name": "Wigan Athletic FC", "phone": "+44 (01942) 774000", "shortName": "Wigan Athletic", "tla": "WIG", "venue": "The DW Stadium", "website": "http://www.wiganlatics.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Waterloo Road Wolverhampton WV1 4QR", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Black / Gold", "crestUrl": "https://crests.football-data.org/76.png", "email": "info@wolves.co.uk", "founded": 1877, "id": 76, "lastUpdated": "2024-07-29T17:16:22Z", "name": "Wolverhampton Wanderers FC", "phone": "+44 (0871) 2222220", "shortName": "Wolverhampton", "tla": "WOL", "venue": "Molineux Stadium", "website": "http://www.wolves.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Walton Street Hull HU3 6HU", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Orange / Black", "crestUrl": "https://crests.football-data.org/322.png", "email": "info@hulltigers.com", "founded": 1904, "id": 322, "lastUpdated": "2022-02-22T14:19:00Z", "name": "Hull City AFC", "phone": "+44 (0870) 8370003", "shortName": "Hull City", "tla": "HUL", "venue": "Kingston Communications Stadium", "website": "http://www.hullcitytigers.com"}, {"activeCompetitions": [[Object], [Object]], "address": "Frogmore Road Portsmouth PO4 8RA", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/325.png", "email": "info@pompeyfc.co.uk", "founded": 1898, "id": 325, "lastUpdated": "2024-08-27T19:14:22Z", "name": "Portsmouth FC", "phone": "+44 (023) 92731204", "shortName": "Portsmouth", "tla": "POR", "venue": "Fratton Park", "website": "http://www.portsmouthfc.co.uk"}, {"activeCompetitions": [[Object]], "address": "Harry Potts Way Burnley BB10 4BX", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Claret / Sky Blue", "crestUrl": "https://crests.football-data.org/328.png", "email": "info@burnleyfc.com", "founded": 1881, "id": 328, "lastUpdated": "2022-02-10T19:24:11Z", "name": "Burnley FC", "phone": "+44 (0871) 2211882", "shortName": "Burnley", "tla": "BUR", "venue": "Turf Moor", "website": "http://www.burnleyfootballclub.com"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "St. Andrew's Stadium Birmingham B9 4RL", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/332.png", "email": "reception@bcfc.com", "founded": 1875, "id": 332, "lastUpdated": "2022-02-20T08:43:10Z", "name": "Birmingham City FC", "phone": "+44 (0844) 5571875", "shortName": "Birmingham", "tla": "BIR", "venue": "St Andrew's Trillion Trophy Stadium", "website": "http://www.bcfc.com"}, {"activeCompetitions": [[Object], [Object]], "address": "Bloomfield Road, Seasiders Way Blackpool FY1 6JJ", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Orange / White", "crestUrl": "https://crests.football-data.org/336.png", "email": "info@blackpoolfc.co.uk", "founded": 1887, "id": 336, "lastUpdated": "2022-02-10T19:11:47Z", "name": "Blackpool FC", "phone": "+44 (0125) 3685000", "shortName": "Blackpool", "tla": "BLA", "venue": "Bloomfield Road", "website": "http://www.blackpoolfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "The Walkers Stadium, Filbert Way Leicester LE2 7FL", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Royal Blue / White", "crestUrl": "https://crests.football-data.org/338.png", "email": null, "founded": 1884, "id": 338, "lastUpdated": "2022-02-10T19:48:23Z", "name": "Leicester City FC", "phone": "+44 (0844) 8156000", "shortName": "Leicester City", "tla": "LEI", "venue": "King Power Stadium", "website": "http://www.lcfc.com"}, {"activeCompetitions": [[Object]], "address": "Britannia Road Southampton SO14 5FP", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White / Black", "crestUrl": "https://crests.football-data.org/340.png", "email": "sfc@saintsfc.co.uk", "founded": 1885, "id": 340, "lastUpdated": "2022-02-10T19:48:04Z", "name": "Southampton FC", "phone": null, "shortName": "Southampton", "tla": "SOU", "venue": "St. Mary's Stadium", "website": "http://www.saintsfc.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Elland Road Leeds LS11 0ES", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "White / Blue", "crestUrl": "https://crests.football-data.org/341.png", "email": "reception@leedsunited.com", "founded": 1904, "id": 341, "lastUpdated": "2022-02-10T19:27:14Z", "name": "Leeds United FC", "phone": "+44 (0871) 3341919", "shortName": "Leeds United", "tla": "LEE", "venue": "Elland Road", "website": "http://www.leedsunited.com"}, {"activeCompetitions": [[Object], [Object]], "address": "Pride Park Derby DE24 8XL", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "White / Black", "crestUrl": "https://crests.football-data.org/342.png", "email": "derbycounty@dcfc.co.uk", "founded": 1884, "id": 342, "lastUpdated": "2022-10-28T10:49:53Z", "name": "Derby County FC", "phone": "+44 (0871) 4721884", "shortName": "Derby County", "tla": "DER", "venue": "iPro Stadium", "website": "http://www.dcfc.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Riverside Stadium Middlesbrough TS3 6RS", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/343.png", "email": "enquiries@mfc.co.uk", "founded": 1876, "id": 343, "lastUpdated": "2022-02-19T08:58:41Z", "name": "Middlesbrough FC", "phone": "+44 (0844) 4996789", "shortName": "Middlesbrough", "tla": "MID", "venue": "Riverside Stadium", "website": "http://www.mfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Hillsborough Sheffield, Yorkshire S6 1SW", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White / Black", "crestUrl": "https://crests.football-data.org/345.png", "email": "enquiries@swfc.co.uk", "founded": 1820, "id": 345, "lastUpdated": "2022-02-19T08:58:10Z", "name": "Sheffield Wednesday FC", "phone": "+44 (0871) 9951867", "shortName": "Sheffield Wed", "tla": "SHE", "venue": "Hillsborough Stadium", "website": "http://www.swfc.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Vicarage Road Watford WD18 0ER", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Yellow / Black", "crestUrl": "https://crests.football-data.org/346.png", "email": "yourvoice@watfordfc.com", "founded": 1881, "id": 346, "lastUpdated": "2022-07-26T17:53:47Z", "name": "Watford FC", "phone": null, "shortName": "Watford", "tla": "WAT", "venue": "Vicarage Road Stadium", "website": "http://www.watfordfc.com"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Jack Goodchild Way, 422a Kingston Road Kingston upon Thames KT1 3PB", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / Yellow", "crestUrl": "https://crests.football-data.org/347.png", "email": "info@afcwimbledon.co.uk", "founded": 2002, "id": 347, "lastUpdated": "2023-03-05T07:34:27Z", "name": "AFC Wimbledon", "phone": "+44 (020) 85473528", "shortName": "AFC Wimbledon", "tla": "WMB", "venue": "Kiyan Prince Foundation Stadium", "website": "http://www.afcwimbledon.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Floyd Road, Charlton London SE7 8BL", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/348.png", "email": "info@cafc.co.uk", "founded": 1905, "id": 348, "lastUpdated": "2022-02-19T09:03:24Z", "name": "Charlton Athletic FC", "phone": "+44 (0208) 3334000", "shortName": "Charlton", "tla": "CHA", "venue": "The Valley", "website": "http://www.cafc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Portman Road Ipswich IP1 2DA", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/349.png", "email": "enquiries@itfc.co.uk", "founded": 1887, "id": 349, "lastUpdated": "2022-10-28T10:50:05Z", "name": "Ipswich Town FC", "phone": null, "shortName": "Ipswich Town", "tla": "IPS", "venue": "Portman Road Stadium", "website": "http://www.itfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Pavilion Road, West Bridgeford Nottingham NG2 5GJ", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/351.png", "email": "enquiries@nottinghamforest.co.uk", "founded": 1865, "id": 351, "lastUpdated": "2022-07-26T17:53:21Z", "name": "Nottingham Forest FC", "phone": "+44 (0115) 9824444", "shortName": "Nottingham", "tla": "NOT", "venue": "The City Ground", "website": "http://www.nottinghamforest.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Whitehorse Lane London SE25 6PU", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / Blue", "crestUrl": "https://crests.football-data.org/354.png", "email": "info@cpfc.co.uk", "founded": 1905, "id": 354, "lastUpdated": "2022-02-10T19:22:36Z", "name": "Crystal Palace FC", "phone": "+44 (020) 87686000", "shortName": "Crystal Palace", "tla": "CRY", "venue": "Selhurst Park", "website": "http://www.cpfc.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Junction 11 M4 Reading RG2 0FL", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/355.png", "email": "customerservice@readingfc.co.uk", "founded": 1871, "id": 355, "lastUpdated": "2022-07-26T17:53:40Z", "name": "Reading FC", "phone": "+44 (0118) 9681211", "shortName": "Reading", "tla": "REA", "venue": "Madejski Stadium", "website": "http://www.readingfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Bramall Lane Sheffield, Yorkshire S2 4SU", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White / Black", "crestUrl": "https://crests.football-data.org/356.png", "email": "info@sufc.co.uk", "founded": null, "id": 356, "lastUpdated": "2024-07-29T17:17:53Z", "name": "Sheffield United FC", "phone": "+44 (0871) 9951899", "shortName": "Sheffield Utd", "tla": "SHE", "venue": "Bramall Lane", "website": "http://www.sufc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Grove Street Barnsley S71 1ET", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/357.png", "email": "thereds@barnsleyfc.co.uk", "founded": 1887, "id": 357, "lastUpdated": "2022-02-20T08:42:50Z", "name": "Barnsley FC", "phone": "+44 (0122) 6211211", "shortName": "Barnsley", "tla": "BAR", "venue": "Oakwell Stadium", "website": "http://www.barnsleyfc.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Upton Way Northampton NN5 5QA", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Claret / White", "crestUrl": "https://crests.football-data.org/376.png", "email": "paula.kane@ntfc.tv", "founded": 1897, "id": 376, "lastUpdated": "2023-03-21T12:41:18Z", "name": "Northampton Town FC", "phone": "+44 (01604) 683700", "shortName": "Northampton", "tla": "NOR", "venue": "Academy Stadium", "website": "http://www.ntfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Zampa Road London SE16 3LN", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/384.png", "email": "questions@millwallplc.com", "founded": 1885, "id": 384, "lastUpdated": "2022-02-19T09:00:14Z", "name": "Millwall FC", "phone": "+44 (0207) 2321222", "shortName": "Millwall", "tla": "MIL", "venue": "The Den", "website": "http://www.millwallfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "New York Way Rotherham S60 1AH", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/385.png", "email": "office@rotherhamunited.net", "founded": 1870, "id": 385, "lastUpdated": "2022-02-25T16:43:19Z", "name": "Rotherham United FC", "phone": "+44 (08444) 140733", "shortName": "Rotherham Utd", "tla": "ROT", "venue": "New York Stadium", "website": "http://www.themillers.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Ashton Gate Bristol BS3 2EJ", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/387.png", "email": "enquiries@bcfc.co.uk", "founded": 1894, "id": 387, "lastUpdated": "2024-07-29T17:18:14Z", "name": "Bristol City FC", "phone": "+44 (0117) 9630600", "shortName": "Bristol City", "tla": "BRI", "venue": "Ashton Gate Stadium", "website": "http://www.bcfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "1 Maple Road Luton LU4 8AW", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "White / Navy Blue / Orange", "crestUrl": "https://crests.football-data.org/389.png", "email": null, "founded": 1885, "id": 389, "lastUpdated": "2022-02-19T08:50:08Z", "name": "Luton Town FC", "phone": "+44 (01582) 411622", "shortName": "Luton Town", "tla": "LUT", "venue": "Kenilworth Road Stadium", "website": "http://www.lutontown.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Meadow Lane Nottingham NG2 3HJ", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Black / White", "crestUrl": "https://crests.football-data.org/391.png", "email": "office@nottscountyfc.co.uk", "founded": 1862, "id": 391, "lastUpdated": "2023-09-18T10:12:47Z", "name": "Notts County FC", "phone": "+44 (0115) 9529000", "shortName": "Notts County", "tla": "NOT", "venue": "Meadow Lane Stadium", "website": "http://www.nottscountyfc.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Stadium Way Huddersfield HD1 6PX", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/394.png", "email": "info@htafc.com", "founded": 1908, "id": 394, "lastUpdated": "2022-02-10T19:15:53Z", "name": "Huddersfield Town AFC", "phone": "+44 (0148) 4484112", "shortName": "Huddersfield", "tla": "HUD", "venue": "The John Smith's Stadium", "website": "http://www.htafc.com"}, {"activeCompetitions": [[Object], [Object]], "address": "44 North Road Brighton & Hove BN1 1YR", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/397.png", "email": "seagulls@bhafc.co.uk", "founded": 1898, "id": 397, "lastUpdated": "2024-07-29T17:18:23Z", "name": "Brighton & Hove Albion FC", "phone": "+44 (01273) 878288", "shortName": "Brighton Hove", "tla": "BHA", "venue": "The American Express Community Stadium", "website": "http://www.seagulls.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Brisbane Road Leyton E10 5NE", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Black / Red", "crestUrl": "https://crests.football-data.org/399.png", "email": "info@leytonorient.net", "founded": 1881, "id": 399, "lastUpdated": "2022-10-28T10:55:29Z", "name": "Leyton Orient FC", "phone": null, "shortName": "Leyton Orient", "tla": "LEY", "venue": "Matchroom Stadium", "website": "http://www.leytonorient.com"}, {"activeCompetitions": [[Object], [Object]], "address": "Braemar Road Brentford TW8 0NT", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White / Black", "crestUrl": "https://crests.football-data.org/402.png", "email": "enquiries@brentfordfc.co.uk", "founded": 1889, "id": 402, "lastUpdated": "2022-04-03T16:24:00Z", "name": "Brentford FC", "phone": null, "shortName": "Brentford", "tla": "BRE", "venue": "Griffin Park", "website": "http://www.brentfordfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Stadium Way West Milton Keynes MK 1ST", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "White / Red", "crestUrl": "https://crests.football-data.org/409.png", "email": "info@mkdons.com", "founded": 1889, "id": 409, "lastUpdated": "2022-10-28T10:52:07Z", "name": "Milton Keynes Dons FC", "phone": "+44 (0190) 8622922", "shortName": "Milton Keynes", "tla": "MKD", "venue": "Stadium mk", "website": "http://www.mkdons.com"}, {"activeCompetitions": [[Object], [Object]], "address": "Queen Elizabeth Olympic Park, London London E20 2ST", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Claret / Sky Blue", "crestUrl": "https://crests.football-data.org/563.png", "email": "yourcomments@westhamunited.co.uk", "founded": 1895, "id": 563, "lastUpdated": "2022-02-19T08:09:25Z", "name": "West Ham United FC", "phone": "+44 (020) 85482794", "shortName": "West Ham", "tla": "WHU", "venue": "London Stadium", "website": "http://www.whufc.com"}, {"activeCompetitions": [[Object]], "address": "Wembley Stadium, PO Box 1966 London SW1P 9EQ", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "White / Red / Navy Blue", "crestUrl": "https://crests.football-data.org/770.svg", "email": "info@thefa.com", "founded": 1863, "id": 770, "lastUpdated": "2021-05-26T09:47:50Z", "name": "England", "phone": "+44 (844) 9808200", "shortName": "England", "tla": "ENG", "venue": "Wembley Stadium", "website": "http://www.thefa.com"}, {"activeCompetitions": [[Object]], "address": "Dean Court, Kings Park Bournemouth BH7 7AF", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / Black", "crestUrl": "https://crests.football-data.org/1044.png", "email": "admin@afcb.co.uk", "founded": 1890, "id": 1044, "lastUpdated": "2024-08-29T08:54:34Z", "name": "AFC Bournemouth", "phone": "+44 (01202) 726300", "shortName": "Bournemouth", "tla": "BOU", "venue": "Vitality Stadium", "website": "http://www.afcb.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Valley Parade Bradford BD8 7DY", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Claret / Orange", "crestUrl": "https://crests.football-data.org/1067.png", "email": "enquiries@bradfordcityfc.co.uk", "founded": 1876, "id": 1067, "lastUpdated": "2022-08-12T11:10:13Z", "name": "Bradford City AFC", "phone": "+44 (01274) 773355", "shortName": "Bradford City", "tla": "BRA", "venue": "Northern Commercials Stadium", "website": "http://www.bradfordcityfc.co.uk"}, {"activeCompetitions": [], "address": "Gigg Lane Bury, Lancashire BL9 9HR", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "White / Blue", "crestUrl": "https://crests.football-data.org/1068.png", "email": "info@buryfc.co.uk", "founded": 1885, "id": 1068, "lastUpdated": "2024-02-27T05:12:39Z", "name": "Bury FC", "phone": "+44 (0161) 7644881", "shortName": "Bury", "tla": "BUR", "venue": null, "website": "http://www.buryfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Princess Way Burton-on-Trent DE13 0AR", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Yellow / Black", "crestUrl": "https://crests.football-data.org/1072.png", "email": "office@burtonalbionfc.co.uk", "founded": 1950, "id": 1072, "lastUpdated": "2022-10-28T10:54:15Z", "name": "Burton Albion FC", "phone": "+44 (0128) 3565938", "shortName": "Burton Albion", "tla": "BUR", "venue": "Pirelli Stadium", "website": "http://www.burtonalbionfc.co.uk"}, {"activeCompetitions": [[Object]], "address": "SportsDirect.com Park Oldham OL1 2PB", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/1075.png", "email": "enquiries@oldhamathletic.co.uk", "founded": 1895, "id": 1075, "lastUpdated": "2022-10-28T10:49:13Z", "name": "Oldham Athletic AFC", "phone": "+44 (0161) 6244972", "shortName": "Oldham Athl", "tla": "OLD", "venue": "Boundary Park", "website": "http://www.oldhamathletic.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Gallagher Retail Park, Stoney Stanton Road Coventry CV6 5QE", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Sky Blue / White", "crestUrl": "https://crests.football-data.org/1076.png", "email": "info@ccfc.co.uk", "founded": 1883, "id": 1076, "lastUpdated": "2022-02-19T08:56:17Z", "name": "Coventry City FC", "phone": "+44 (0247) 6992326", "shortName": "Coventry City", "tla": "COV", "venue": "St Andrew's Trillion Trophy Stadium", "website": "http://www.ccfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "London Road Peterborough PE2 8AL", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / White", "crestUrl": "https://crests.football-data.org/1077.png", "email": "info@theposh.com", "founded": 1934, "id": 1077, "lastUpdated": "2022-02-20T08:43:26Z", "name": "Peterborough United FC", "phone": "+44 (0173) 3563947", "shortName": "Peterborough", "tla": "PET", "venue": "Weston Homes Stadium", "website": "http://www.theposh.com"}, {"activeCompetitions": [[Object], [Object]], "address": "The County Ground, County Road Swindon SN1 2ED", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red / White", "crestUrl": "https://crests.football-data.org/1079.png", "email": "tom@swindontownfc.co.uk", "founded": 1879, "id": 1079, "lastUpdated": "2023-03-21T12:41:37Z", "name": "Swindon Town FC", "phone": "+44 (8718) 761879", "shortName": "Swindon Town", "tla": "SWI", "venue": "The Energy Check County Ground", "website": "http://www.swindontownfc.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Sir Tom Finney Way Preston PR1 6RU", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "White / Navy Blue", "crestUrl": "https://crests.football-data.org/1081.png", "email": "enquiries@pne.com", "founded": 1863, "id": 1081, "lastUpdated": "2022-02-10T19:33:12Z", "name": "Preston North End FC", "phone": null, "shortName": "Preston NE", "tla": "PNE", "venue": "Deepdale Stadium", "website": "http://www.pnefc.net"}, {"activeCompetitions": [[Object], [Object]], "address": "Grenoble Road Oxford OX4 4XP", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Yellow / Blue", "crestUrl": "https://crests.football-data.org/1082.png", "email": "admin@oufc.co.uk", "founded": 1893, "id": 1082, "lastUpdated": "2022-10-28T10:49:25Z", "name": "Oxford United FC", "phone": "+44 (01865) 337500", "shortName": "Oxford United", "tla": "OXF", "venue": "The Kassam Stadium", "website": "http://www.oufc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Warwick Road Carlisle CA1 1LL", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue / Red / White", "crestUrl": "https://crests.football-data.org/1136.png", "email": "admin@carlisleunited.co.uk", "founded": 1903, "id": 1136, "lastUpdated": "2023-03-21T12:42:16Z", "name": "Carlisle United FC", "phone": null, "shortName": "Carlisle Utd", "tla": "CAR", "venue": "Brunton Park", "website": "http://www.carlisleunited.premiumtv.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Cleethorpes Cleethorpes DN35 7PY", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Black / White", "crestUrl": "https://crests.football-data.org/1137.png", "email": "mariners@gtfc.co.uk", "founded": 1878, "id": 1137, "lastUpdated": "2023-01-30T16:19:51Z", "name": "Grimsby Town FC", "phone": "+44 (01472) 605050", "shortName": "Grimsby Town", "tla": "GRI", "venue": "Blundell Park", "website": "http://www.gtfc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Home Park Plymouth PL2 3DQ", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Green / White", "crestUrl": "https://crests.football-data.org/1138.png", "email": "argyle@pafc.co.uk", "founded": 1886, "id": 1138, "lastUpdated": "2022-02-22T14:07:04Z", "name": "Plymouth Argyle FC", "phone": "+44 (1752) 562561", "shortName": "Plymouth Arg", "tla": "PLY", "venue": "Home Park", "website": "http://www.pafc.co.uk"}, {"activeCompetitions": [[Object], [Object]], "address": "Livingstone Road Accrington BB5 5BX", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Red", "crestUrl": "https://crests.football-data.org/1145.png", "email": null, "founded": 1891, "id": 1145, "lastUpdated": "2022-02-19T09:11:53Z", "name": "Accrington Stanley FC", "phone": "+44 (0871) 4341968", "shortName": "Accrington", "tla": "ACC", "venue": "Wham Stadium", "website": "http://www.accringtonstanley.co.uk"}, {"activeCompetitions": [[Object], [Object], [Object]], "address": "Hillbottom Road High Wycombe HP12 4HJ", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": "Blue", "crestUrl": "https://crests.football-data.org/1146.png", "email": "wwfc@wwfc.com", "founded": 1887, "id": 1146, "lastUpdated": "2022-02-25T16:46:30Z", "name": "Wycombe Wanderers FC", "phone": "+44 (1494) 472100", "shortName": "Wycombe", "tla": "WYC", "venue": "Adams Park", "website": "http://www.wycombewanderers.co.uk"}, {"activeCompetitions": [], "address": "null Bradford null", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": null, "crestUrl": "https://crests.football-data.org/4578.png", "email": null, "founded": 1863, "id": 4578, "lastUpdated": "2023-09-04T10:22:31Z", "name": "Bradford Park Avenue FC", "phone": null, "shortName": "Bradford PA", "tla": "BPA", "venue": "Horsfall Stadium", "website": "http://www.bpafc.com"}, {"activeCompetitions": [], "address": "null Charnock Richard null", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": null, "crestUrl": null, "email": null, "founded": 1933, "id": 4595, "lastUpdated": "2020-09-03T03:13:09Z", "name": "Charnock Richard FC", "phone": null, "shortName": "Charnock", "tla": "CHA", "venue": null, "website": "http://charnockrichardfc.co.uk/"}, {"activeCompetitions": [], "address": "null Glossop null", "area": {"code": "ENG", "ensignUrl": "https://crests.football-data.org/770.svg", "id": 2072, "name": "England"}, "clubColors": null, "crestUrl": null, "email": null, "founded": 1886, "id": 4629, "lastUpdated": "2020-09-03T03:13:20Z", "name": "Glossop North End AFC", "phone": null, "shortName": "Glossop NE", "tla": "GLO", "venue": null, "website": "http://www.pitchero.com/clubs/glossopnorthend/"}]
  res.send(teamsInfo)
})

app.listen(5000, () => {console.log('Listening on port 5000'); console.log('One Champ Api')})

module.exports = app